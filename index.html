<!DOCTYPE html>
<html lang="en">
<head>
    <title>Wiseplay - Block Ads & Popups</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10, user-scalable=yes">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
        body {
            background-color: #000;
            color: #fff;
            margin: 0;
            text-align: center;
            font-family: Arial, sans-serif;
        }
        img {
            border-radius: 5px;
            border: 1px solid #87CEFA;
            padding: 2px;
            margin: 3px;
            height: 60px;
            width: 60px;
        }
        .popup, .overlay, [style*="position: fixed"], [style*="position: absolute"] {
            display: none !important;
        }
    </style>
    <script>
        window.onload = function () {
            console.log("เริ่มบล็อคโฆษณาและ Pop-up...");

            // ฟังก์ชั่นบล็อกโฆษณา
            function blockAdsAndPopups() {
                var adSelectors = [
                    '[id*="ad"]',
                    '[class*="ad"]',
                    '[src*="ads"]',
                    '[href*="ads"]',
                    'iframe',
                    'object',
                    'embed'
                ];
                
                adSelectors.forEach(function(selector) {
                    var elements = document.querySelectorAll(selector);
                    elements.forEach(function(element) {
                        element.style.display = 'none';
                        console.log('Blocked:', element);
                    });
                });
            }

            // บล็อค iframe ที่น่าสงสัย
            var iframes = document.getElementsByTagName('iframe');
            for (var i = iframes.length - 1; i >= 0; i--) {
                if (iframes[i].src && (iframes[i].src.includes('ads') || iframes[i].src.includes('pop'))) {
                    iframes[i].parentNode.removeChild(iframes[i]);
                    console.log('Blocked iframe:', iframes[i]);
                }
            }

            // ปิดการใช้งาน window.open
            window.open = function () {
                console.warn('Blocked window.open attempt');
                return null;
            };

            // ปิดการใช้งาน alert, confirm, prompt
            window.alert = function () { console.warn('Blocked alert'); };
            window.confirm = function () { console.warn('Blocked confirm'); return false; };
            window.prompt = function () { console.warn('Blocked prompt'); return ''; };

            // บล็อคการเปลี่ยนแปลง window.location ที่น่าสงสัย
            var originalLocation = window.location;
            Object.defineProperty(window, 'location', {
                get: function () {
                    return originalLocation;
                },
                set: function (value) {
                    if (value.includes('intent://') || value.includes('com.wiseplay')) {
                        console.warn('Blocked location change to:', value);
                        return;
                    }
                    originalLocation = value;
                }
            });

            // บล็อคลิงก์ที่พยายามเปิด intent://
            document.querySelectorAll('a').forEach(function(link) {
                link.addEventListener('click', function (event) {
                    var href = link.getAttribute('href');
                    if (href && href.includes('intent://')) {
                        event.preventDefault();
                        console.warn('Blocked intent link:', href);
                    }
                });
            });

            // เรียกใช้ฟังก์ชั่นบล็อคทุก ๆ 3 วินาทีเพื่อป้องกันโฆษณาแบบไดนามิก
            setInterval(blockAdsAndPopups, 3000);
            blockAdsAndPopups();
        };
    </script>
</head>
<body>
    <h1>Wiseplay - Block Ads & Popups</h1>
    <p>ระบบบล็อคโฆษณาและ Pop-ups ได้เปิดใช้งานแล้ว</p>
    
    <a href="intent://dookeela.live/live-tv/ccm#Intent;package=com.wiseplay;S.referer=https://dookeela.live/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end">
        <img src="https://img5.pic.in.th/file/secure-sv1/oie_d6nHaoquYtAK-1.png" alt="KTV"></a>
    
    <a href="intent://goal-th.com/ช่องรายการทีวี/?id=406#Intent;package=com.wiseplay;S.referer=https://dookeela.live/&userAgent=exo_player;S.title=KTV;scheme=https;type=video/mp4;end">
        <img src="https://cms.dmpcdn.com/livetv/2023/04/28/456c5d00-e599-11ed-b550-9935ba8025b9_webp_original.webp" alt="Channel 406"></a>
    
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet">
</body>
</html>
